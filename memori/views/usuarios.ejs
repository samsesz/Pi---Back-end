<%- include ('partials/header.ejs') %>
<%- include ('partials/navbar.ejs') %>

<div class="container-formulario">
    <h3> Registro de Usuários </h3>
    <hr>
    <div class="wrapper">
    <div class="cadastrar">
        <h4> Cadastrar novo Usuário </h4>
        <hr>
        <form action="/usuarios/new" method="POST">
            <div class="inserir-dados">
            <label> Nome:</label>
            <input type="text" name="nome" placeholder="Digite o nome completo" class="form-input" required>
            <label> Nome de usuário:</label>
            <input type="text" name="username" placeholder="Digite o nome de usuário" class="form-input" required>
            <label> E-mail:</label>
            <input type="email" name="email" placeholder="Digite o e-mail" class="form-input" required>
            <label>Senha:</label>
            <input type="password" name="senha" placeholder="Digite a senha" class="form-input" required>
            <br><br>
            <hr>
            <label> Permissões:</label><br>
            <input type="checkbox" name="permissao-editor">
            <label for="permissao-editor" class="texto-checkbox"> Editor</label>
            <input type="checkbox" name="permissao-leitor" > 
            <label for="permissao-leitor" class="texto-checkbox"> Leitor</label>
            <div class="div-botao">
                <button name="cadastrar-usuario" class="button-cadastro"> Cadastrar </button>
            </div>
            </div>
        </form>
    </div>


    <div class="consultar">
        <h4> Consultar Usuários </h4>
        <table>
          <thead>
            <th> Id </th>
            <th> Nome </th>
            <th> Nome de usuário </th>
            <th> E-mail </th>
            <th> Permissões </th>
            <th style="text-align: center;" colspan="2">Ações:</th>
          </thead>
          <tbody>
            <% usuarios.forEach(usuario => { %>
            <tr>
                <td><%= usuario.nome %></td>
                <td><%= usuario.nomeUsuario %></td>
                <td><%= usuario.emailUsuario %></td>
                <td><%= usuario.senhaUsuario %></td>
                <td><%= usuario.permissao %></td>
                <td><a style="color: orange;" href="/usuarios/edit/<%= usuario.nomeUsuario %>">Editar</a></td>
                <td><a style="color: red;" href="/usuarios/delete/<%= usuario.nomeUsuario %>">Excluir</a></td>
            </tr>
            <% }) %>
          </tbody>
            <tr>
                <td>a</td>
                <td>Larissa</td>
                <td>ltoyohashi</td>
                <td>ltoyohashi@gmail.com</td>
                <td>e</td>
                <td>
                    <Button name="editar-usuario" class="btn-editar"> <i class = "fas fa-pencil"></i></Button>
                </td>
                <td>
                    <Button name="excluir-usuario" class="btn-excluir"> <i class = "fas fa-cancel"></i></Button>
                </td>
            </tr>
            
        </table>
    </div>
</div>
    
</div>

<%- include ('partials/footer.ejs') %>
